<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Medicio Bootstrap Template - Index</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link
      href="{{ url_for('static', filename='assets/img/favicon.png') }}"
      rel="icon"
    />
    <link
      href="{{ url_for('static', filename='assets/img/apple-touch-icon.png') }}"
      rel="apple-touch-icon"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="{{ url_for('static', filename='assets/vendor/fontawesome-free/css/all.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/animate.css/animate.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/aos/aos.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/bootstrap/css/bootstrap.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/bootstrap-icons/bootstrap-icons.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/boxicons/css/boxicons.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/glightbox/css/glightbox.min.css') }}"
      rel="stylesheet"
    />
    <link
      href="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.css') }}"
      rel="stylesheet"
    />

    <!-- Template Main CSS File -->
    <link
      href="{{ url_for('static', filename='assets/css/style.css') }}"
      rel="stylesheet"
    />

    <!-- =======================================================
  * Template Name: Medicio
  * Template URL: https://bootstrapmade.com/medicio-free-bootstrap-theme/
  * Updated: Mar 17 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  </head>

  <body>
    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top header-scrolled">
      <div class="container d-flex align-items-center">
        <a href="/" class="logo me-auto"
          ><img
            src="{{ url_for('static', filename='assets/img/logo1.png') }}"
            alt=""
        /></a>
        <!-- Uncomment below if you prefer to use an image logo -->
        <!-- <h1 class="logo me-auto"><a href="index.html">Medicio</a></h1> -->

        <nav id="navbar" class="navbar order-last order-lg-0">
          <ul>
            <li><a class="nav-link scrollto" href="#hero">Home</a></li>
            <li><a class="nav-link scrollto" href="#services">Method</a></li>
            <li><a class="nav-link scrollto" href="#about">About</a></li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
        </nav>
        <!-- .navbar -->

        <a href="#appointment" class="appointment-btn scrollto"
          ><span class="d-none d-md-inline"></span> Coba Prediksi</a
        >
      </div>
    </header>
    <!-- End Header -->

    <!-- ======= Hero Section ======= -->
    <section id="hero">
      <div
        id="heroCarousel"
        data-bs-interval="5000"
        class="carousel slide carousel-fade"
        data-bs-ride="carousel"
      >
        <ol class="carousel-indicators" id="hero-carousel-indicators"></ol>

        <div class="carousel-inner" role="listbox">
          <!-- Slide 1 -->
          <div
            class="carousel-item active"
            style="background-image: url('{{ url_for('static', filename='assets/img/slide/slide-1.jpg') }}')"
          >
            <div class="container">
              <h2>Selamat Datang</h2>
              <p>
                Pada website ini terdapat fitur AI yang dapat digunakan untuk
                mengdiagnosis penyakit Gagal Jantung. Jika kalian ingin mencoba
                mengetahui atau memiliki riwayat bisa dicoba untuk mengisi
                setiap kolom yang dibutuhkan.
              </p>
              <a href="#about" class="btn-get-started scrollto">Read More</a>
            </div>
          </div>

          <!-- Slide 2 -->
          <div
            class="carousel-item"
            style="background-image: url('{{ url_for('static', filename='assets/img/slide/slide-2.jpg') }}')"
          >
            <div class="container">
              <h2>Selamat Datang</h2>
              <p>
                Pada website ini terdapat fitur AI yang dapat digunakan untuk
                mengdiagnosis penyakit Gagal Jantung. Jika kalian ingin mencoba
                mengetahui atau memiliki riwayat bisa dicoba untuk mengisi
                setiap kolom yang dibutuhkan.
              </p>
              <a href="#about" class="btn-get-started scrollto">Read More</a>
            </div>
          </div>

          <!-- Slide 3 -->
          <div
            class="carousel-item"
            style="background-image: url('{{ url_for('static', filename='assets/img/slide/slide-3.jpg') }}')"
          >
            <div class="container">
              <h2>Selamat Datang</h2>
              <p>
                Pada website ini terdapat fitur AI yang dapat digunakan untuk
                mengdiagnosis penyakit Gagal Jantung. Jika kalian ingin mencoba
                mengetahui atau memiliki riwayat bisa dicoba untuk mengisi
                setiap kolom yang dibutuhkan.
              </p>
              <a href="#about" class="btn-get-started scrollto">Read More</a>
            </div>
          </div>
        </div>

        <a
          class="carousel-control-prev"
          href="#heroCarousel"
          role="button"
          data-bs-slide="prev"
        >
          <span
            class="carousel-control-prev-icon bi bi-chevron-left"
            aria-hidden="true"
          ></span>
        </a>

        <a
          class="carousel-control-next"
          href="#heroCarousel"
          role="button"
          data-bs-slide="next"
        >
          <span
            class="carousel-control-next-icon bi bi-chevron-right"
            aria-hidden="true"
          ></span>
        </a>
      </div>
    </section>
    <!-- End Hero -->

    <main id="main">
      <!-- ======= Services Section ======= -->
      <section id="services" class="services services">
        <div class="container" data-aos="fade-up">
          <div class="section-title">
            <h2>Method</h2>
            <p>
              Metode - Metode yang digunakan dalam proses diagnosa penyakit
              Gagal Jantung
            </p>
          </div>

          <div class="row">
            <div
              class="col-lg-4 col-md-6 icon-box"
              data-aos="zoom-in"
              data-aos-delay="100"
            >
              <div class="icon"><i class="fas fa-heartbeat"></i></div>
              <h4 class="title"><a href="">RFE-RF</a></h4>
              <p class="description">
                RFE-RF digunakan untuk melakukan feature selection yang
                bertujuan memilih fitur yang paling efektif untuk digunakan
                dalam proses klasifikasi.
              </p>
            </div>
            <div
              class="col-lg-4 col-md-6 icon-box"
              data-aos="zoom-in"
              data-aos-delay="200"
            >
              <div class="icon"><i class="fas fa-pills"></i></div>
              <h4 class="title"><a href="">Support Vector Machine</a></h4>
              <p class="description">
                SVM digunakan sebagai algoritma klasifikasi yang nantinya akan
                mempelajari data yang sudah di seleksi fitur.
              </p>
            </div>
            <div
              class="col-lg-4 col-md-6 icon-box"
              data-aos="zoom-in"
              data-aos-delay="300"
            >
              <div class="icon"><i class="fas fa-hospital-user"></i></div>
              <h4 class="title"><a href="">GridSearchCV</a></h4>
              <p class="description">
                GridSearchCV merupakan metode hyperparameter tunning yang
                bertujuan untuk mencari model terbaik pada algoritma support
                vector machine
              </p>
            </div>
          </div>
        </div>
      </section>
      <!-- End Services Section -->

      <!-- ======= Appointment Section ======= -->
      <section id="appointment" class="appointment section-bg">
        <div class="container" data-aos="fade-up">
          <div class="section-title">
            <h2>Prediksi Penyakit Gagal Jantung</h2>
            <p>
              Klasifikasi Penyakit gagal jantung ini didasarkan pada beberapa
              pertanyaan dan juga hasil dari uji lab yang dapat diisi dan
              pengisi akan menerima hasil apakah termasuk dalam memiliki
              penyakit gagal jantung atau tidak
            </p>
          </div>

          <form
            role="form"
            data-aos="fade-up"
            data-aos-delay="100"
            id="predictionForm"
          >
            <div class="row">
              <div class="col-md-4 form-group">
                <label for="age" class="form-label">Usia :</label>
                <input
                  type="number"
                  name="age"
                  class="form-control"
                  id="age"
                  placeholder="Masukkan Usia Pasien"
                  required
                />
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="anaemia" class="form-label"
                  >Anemia :</label
                >
                <input
                  type="number"
                  class="form-control"
                  name="anaemia"
                  id="anaemia"
                  placeholder="Masukkan Hasil Tes Anemia Anda"
                  required
                />
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="creatinine_phosphokinase" class="form-label"
                  >Tes CPK :</label
                >
                <input
                  type="number"
                  class="form-control"
                  name="creatinine_phosphokinase"
                  id="creatinine_phosphokinase"
                  placeholder="Masukkan Hasil Tes CPK Anda"
                  required
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 form-group">
                <label for="diabetes" class="form-label"
                  >Hasil Tes Diabetes anda :</label
                >
                <input
                  type="number"
                  name="diabetes"
                  class="form-control"
                  id="diabetes"
                  placeholder="Masukkan Hasil Tes Diabetes Anda"
                  required
                />
              </div>
              <div class="col-md-4 form-group">
                <label for="ejection_fraction" class="form-label"
                  >Persentase darah yang meninggalkan jantung pada setiap
                  kontraksi (EF) :</label
                >
                <input
                  type="number"
                  name="ejection_fraction"
                  class="form-control"
                  id="ejection_fraction"
                  placeholder="Masukkan Persentase EF Pasien"
                  required
                />
              </div>
              <div class="col-md-4 form-group">
                <label for="high_blood_pressure" class="form-label"
                  >Darah Tinggi :</label
                >
                <input
                  type="number"
                  name="high_blood_pressure"
                  class="form-control"
                  id="high_blood_pressure"
                  placeholder="Masukkan Darah Tinggi"
                  required
                />
              </div>
              
            </div>
            <div class="row">
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="platelets" class="form-label"
                  >Jumlah Trombosit Anda :</label
                >
                <input
                  type="number"
                  class="form-control"
                  name="platelets"
                  id="platelets"
                  placeholder="Masukkan Hasil Pengecekan Trombosit Anda"
                  required
                />
              </div>
              <div class="col-md-4 form-group">
                <label for="serum_creatinine" class="form-label"
                  >Tingkat kreatinina serum dalam darah :</label
                >
                <input
                  type="number"
                  name="serum_creatinine"
                  class="form-control" step="0.01"
                  id="serum_creatinine"
                  placeholder="Masukkan Tingkat Serum Kreatinina Pasien"
                  required
                />
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="serum_sodium" class="form-label"
                  >Tingkat natrium serum dalam darah :</label
                >
                <input
                  type="number"
                  class="form-control"
                  name="serum_sodium"
                  id="serum_sodium"
                  placeholder="Masukkan Tingkat Serum Sodium Pasien"
                  required
                />
              </div>
              <div class="col-md-4 form-group">
                <label for="sex" class="form-label">Jenis Kelamin :</label>
                <select name="sex" id="sex" class="form-select" required>
                  <option value="">Select Jenis Kelamin</option>
                  <option value="0">Perempuan</option>
                  <option value="1">Laki-Laki</option>
                </select>
              </div>
              <div class="col-md-4 form-group">
                <label for="smoking" class="form-label">Merokok :</label>
                <select name="smoking" id="smoking" class="form-select" required>
                  <option value="">Select Jenis Kelamin</option>
                  <option value="0">Tidak Merokok</option>
                  <option value="1">Merokok</option>
                </select>
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="time" class="form-label"
                  >Periode Tindak Lanjut :</label
                >
                <input
                  type="number"
                  class="form-control"
                  name="time"
                  id="time"
                  placeholder="Masukkan Periode Tindak Lanjut(hari)"
                  required
                />
              </div>
            </div>
            <div id="result"></div>
            <div class="text-center mt-2" >
              <button class="appointment-btn scrollto" id="submitButton" type="submit">Prediksi</button>
            </div>
          </form>

          
        </div>
      </section>
      <!-- End Appointment Section -->

      <!-- ======= About Us Section ======= -->
      <section id="about" class="about">
        <div class="container" data-aos="fade-up">
          <div class="section-title">
            <h2>About Us</h2>
            <p>
              Magnam dolores commodi suscipit. Necessitatibus eius consequatur
              ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam
              quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea.
              Quia fugiat sit in iste officiis commodi quidem hic quas.
            </p>
          </div>

          <div class="row">
            <div class="col-lg-6" data-aos="fade-right">
              <img src="assets/img/about.jpg" class="img-fluid" alt="" />
            </div>
            <div class="col-lg-6 pt-4 pt-lg-0 content" data-aos="fade-left">
              <h3>
                Voluptatem dignissimos provident quasi corporis voluptates sit
                assumenda.
              </h3>
              <p class="fst-italic">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                eiusmod tempor incididunt ut labore et dolore magna aliqua.
              </p>
              <ul>
                <li>
                  <i class="bi bi-check-circle"></i> Ullamco laboris nisi ut
                  aliquip ex ea commodo consequat.
                </li>
                <li>
                  <i class="bi bi-check-circle"></i> Duis aute irure dolor in
                  reprehenderit in voluptate velit.
                </li>
                <li>
                  <i class="bi bi-check-circle"></i> Ullamco laboris nisi ut
                  aliquip ex ea commodo consequat. Duis aute irure dolor in
                  reprehenderit in voluptate trideta storacalaperda mastiro
                  dolore eu fugiat nulla pariatur.
                </li>
              </ul>
              <p>
                Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
                aute irure dolor in reprehenderit in voluptate velit esse cillum
                dolore eu fugiat nulla pariatur. Excepteur sint occaecat
                cupidatat non proident, sunt in culpa qui officia deserunt
                mollit anim id est laborum
              </p>
            </div>
          </div>
        </div>
      </section>
      <!-- End About Us Section -->

      <!-- Modal Terindikasi -->
      <div
        class="modal fade"
        id="Modal-1"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-lg modal-dialog-centered"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-body">
              <div class="container">
                <div class="text-center mt-3">
                  <h2>Hasil Prediksi Anda</h2>
                  <br />
                  <p class="p2">
                    Dari gejala-gejala yang anda rasakan, sistem menilai anda
                    <strong
                      ><span class="text-danger">Terindikasi</span></strong
                    >
                    Terkena Penyakit Gagal Jantung
                  </p>
                  <br />
                  <p class="p2">
                    Anda dianjurkan melakukan pemeriksaan lebih lanjut untuk
                    mengetahui penanganan dan pengobatanan dari penyakit jantung
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Tidak Terindikasi -->
      <div
        class="modal fade"
        id="Modal-0"
        tabindex="-1"
        role="dialog"
        aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true"
      >
        <div
          class="modal-dialog modal-lg modal-dialog-centered"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-body">
              <div class="container">
                <div class="text-center mt-3">
                  <h2>Hasil Prediksi Anda</h2>
                  <br />
                  <p class="p2">
                    Dari gejala-gejala yang anda rasakan, sistem menilai anda
                    <strong
                      ><span class="text-success"
                        >Tidak Terindikasi</span
                      ></strong
                    >
                    Terkena Penyakit Gagal Jantung
                  </p>
                  <br />
                  <p class="p2">
                    Tetap jaga kesehatan dan lakukan pemeriksaan rutin untuk
                    memastikan kondisi kesehatan jantung anda.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- End #main -->

    <!-- ======= Footer ======= -->
    <footer id="footer">
      <div class="container">
        <div class="copyright">
          &copy; Copyright <strong><span>Calvin Nickholas K</span></strong
          >. All Rights Reserved
        </div>
      </div>
    </footer>
    <!-- End Footer -->
    <div id="preloader"></div>
    <a
      href="#"
      class="back-to-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>
    <!-- Vendor JS Files -->
    <script src="{{ url_for('static', filename='assets/vendor/purecounter/purecounter_vanilla.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/aos/aos.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/glightbox/js/glightbox.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='assets/vendor/php-email-form/validate.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Template Main JS File -->
    <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document
          .getElementById("predictionForm")
          .addEventListener("submit", function (event) {
            event.preventDefault();

        const age = document.getElementById("age").value;
        const anaemia = document.getElementById("anaemia").value;
        const creatininePhosphokinase = document.getElementById("creatinine_phosphokinase").value;
        const diabetes = document.getElementById("diabetes").value;
        const ejectionFraction = document.getElementById("ejection_fraction").value;
        const high_blood_pressure = document.getElementById("high_blood_pressure").value;
        const platelets = document.getElementById("platelets").value;
        const serumCreatinine = document.getElementById("serum_creatinine").value;
        const serumSodium = document.getElementById("serum_sodium").value;
        const sex = document.getElementById("sex").value;
        const smoking = document.getElementById("smoking").value;
        const time = document.getElementById("time").value;

        const formData = {
          age: age ? age.trim() : '',
          anaemia	: anaemia	 ? anaemia	.trim() : '',
          creatinine_phosphokinase: creatininePhosphokinase ? creatininePhosphokinase.trim() : '',
          diabetes	: diabetes	 ? diabetes	.trim() : '',
          ejection_fraction: ejectionFraction ? ejectionFraction.trim() : '',
          high_blood_pressure	: high_blood_pressure	 ? high_blood_pressure	.trim() : '',
          platelets: platelets ? platelets.trim() : '',
          serum_creatinine: serumCreatinine ? serumCreatinine.trim() : '',
          serum_sodium: serumSodium ? serumSodium.trim() : '',
          sex: sex ? sex.trim() : '',
          smoking	: smoking	 ? smoking	.trim() : '',
          time: time ? time.trim() : '',
        };

            fetch("/submit", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(formData),
            })
              .then((response) => response.json())
              .then((data) => {
                document.getElementById(
                  "result"
                ).innerText = `Prediction Result: ${data.result}`;
                // Show the appropriate modal based on the prediction result
                if (data.result === 1) {
                  $("#Modal-1").modal("show"); // Show modal for "Terindikasi"
                } else {
                  $("#Modal-0").modal("show"); // Show modal for "Tidak Terindikasi"
                }
              })
              .catch((error) => {
                console.error("Error:", error);
                document.getElementById("result").innerText = `Error: ${error}`;
              });
          });
      });
    </script>
  </body>
</html>
